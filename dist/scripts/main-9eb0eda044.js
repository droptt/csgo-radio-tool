/**
 * @Author: Drop
 * @Creation: 7/25/2016 2:19 PM (Tomorrow never dies)
 */
var app=angular.module("csgo-radio",["pascalprecht.translate","ngCookies","dndLists","angularInlineEdit","ngMaterial","ngMessages","mdColorPicker","ngSanitize","angulartics","angulartics.google.analytics","LocalStorageModule"]);app.config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"I18N/",suffix:".json"}).uniformLanguageTag("bcp47").determinePreferredLanguage().fallbackLanguage("en-US").useLocalStorage()}]).config(["localStorageServiceProvider",function(e){e.setPrefix("")}]).config(["$analyticsProvider",function(e){e.virtualPageviews(!1)}]).run(["$rootScope",function(e){e.init={loaded:!1},e.settings={allowed_types:["none","and"],msg_type:"message",radioMenu:{"RadioPanel.txt":{Groups:{standard:{hotkey:"1",title:"#SFUI_CommandRadio",timeout:"5",Commands:{}},group:{hotkey:"2",title:"#SFUI_StandardRadio",timeout:"5",Commands:{}},report:{hotkey:"3",title:"#SFUI_ReportRadio",timeout:"5",Commands:{}}}}},boxes:Array("StandardRadio","GroupRadio","ReportRadio")},e.settings.version=20,e.model={standard:[],group:[],report:[],Titles:[null,null,null]}}]),function(){var e=angular.module("csgo-radio"),t=["$scope","$rootScope","messagesService","localStorageService","$filter","$location","$analytics","$mdToast","$mdDialog",function(e,t,o,a,n,r,i,l,s){e.loading_state="Loading Assets";var d=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},c=function(){var e=!1,n=!1;if(a.isSupported){if(null!==a.get("customVersion")||null!==a.get("version")?(t.settings.newUser=!1,t.settings.version===a.get("version")?t.settings.versionNotification=!1:(t.settings.versionNotification=!0,s.show(s.alert().clickOutsideToClose(!0).title("New on this version").textContent("Creating Custom messages is now way easier with Commands Autocomplete.").ariaLabel("New Version Dialog").ok("Got it!")),i.eventTrack("New Version Dialog",{category:"radio_tool"}),a.set("version",t.settings.version))):(t.settings.newUser=!0,t.settings.versionNotification=!0,a.set("version",t.settings.version),a.set("customVersion",2)),null!==a.get("custom")){var r=angular.fromJson(a.get("custom"));r.constructor===Array?(i.eventTrack("Legacy Custom List",{category:"radio_tool"}),o.importOldCustom(r)):o.importCustom(r)}else t.model.custom=t.init.custom,t.$watch("model.custom",o.customSave,!0);var l=decodeURIComponent(window.location.hash.replace("#/","").replace("##",""));if(d(l)===!0&&l!==JSON.stringify(a.get("saved"))&&(i.eventTrack("Shared Link loaded",{category:"radio_tool"}),o.importMessages(JSON.parse(l),!1,!0,!1),e=!0,n=!0,t.settings.shared=!0,t.settings.hasSaved=null!==a.get("saved")),null!==a.get("saved")&&e===!1){var c=angular.fromJson(a.get("saved"));o.importMessages(c,!1,!1),e=!0}else n===!1&&e===!1&&(o["default"](),e=!0)}else s.show(s.alert().clickOutsideToClose(!0).title("Warning").textContent("Your browser doesn't support Local Storage. Saving functionality is disabled.").ariaLabel("Localstorage Warning").ok("Got it!")),i.eventTrack("Localstorage Warning Dialog",{category:"radio_tool"})},m=!1,u=!1,p=function(){m===!0&&u===!0&&(t.init.loaded=!0,angular.element(document).find(".wrapper").removeClass("hidden"),c())},f=function(e){t.model.messages=e,m=!0,p()},g=function(e){t.init.custom=e,u=!0,p()},h=function(e){t.init.commands=e,t.init.Commands=!0},v=function(t){l.show(l.simple().textContent(t.data+": "+t.statusText+". Please Reload the page or contact me.").position("top right").hideDelay(1e4)),i.eventTrack("Error: "+t.data,{category:"radio_tool",label:t.statusText+": "+t.stauts}),e.loading_state="Couldn't load Messages.",e.error=!0},y=function(t){l.show(l.simple().textContent("Unable to fetch commands list. Autocomplete is disabled.").position("top right").hideDelay(1e4)),i.eventTrack("Error: "+t.data,{category:"radio_tool",label:t.statusText+": "+t.stauts}),e.error=!0};e.loading_state="Loading Data",o.getMessages().then(f,v),o.getCustom().then(g,v),o.getCommand().then(h,y)}];e.controller("loadingController",t)}(),function(){var e=angular.module("csgo-radio"),t=["$scope","$rootScope","messagesService","uiService",function(e,t,o,a){e.generate=function(e){a.Dialog.output(e,o.GenerateRP(e))},e.openChangelog=function(e){a.Dialog.changelog(e)},e.showHelp=function(e,t){a.Dialog.help(e,t)},e.newMessage=function(e){a.Dialog.newMessage(e)},e.editMessage=function(e,t,o,n){a.Dialog.editMessage(e,{list:t,message:o,index:n})},e.importFile=function(e){a.Dialog["import"](e)},e.moved=function(e,o){t.model[e].splice(o,1)},e.resetMessages=function(e){a.Confirm.reset(e)},e.defaults=function(e){a.Confirm["default"](e)}}];e.controller("mainController",t)}(),function(){var e=angular.module("csgo-radio"),t=["$scope","$rootScope","uiService",function(e,t,o){e.removeMessage=function(e,a,n,r){"message"===a.type?(t.model.messages[a.cmd].disabled=!1,t.model[e].splice(n,1)):"custom"===a.type?(t.model.custom[a.UID].disabled=!1,t.model[e].splice(n,1)):o.Confirm.deleteImportedCommand(r,e,a,n)},e.checkLimit=function(e,o,a){if("data-list-name"===e.target.attributes[0].nodeName)var n=e.target.attributes[0].nodeValue;else if("data-list-name"===e.target.parentNode.attributes[0].nodeName)var n=e.target.parentNode.attributes[0].nodeValue;else if("data-list-name"===e.target.parentNode.parentNode.attributes[0].nodeName)var n=e.target.parentNode.parentNode.attributes[0].nodeValue;else if("data-list-name"===e.target.parentNode.parentNode.parentNode.attributes[0].nodeName)var n=e.target.parentNode.parentNode.parentNode.attributes[0].nodeValue;else if("data-list-name"===e.target.parentNode.parentNode.parentNode.parentNode.attributes[0].nodeName)var n=e.target.parentNode.parentNode.parentNode.parentNode.attributes[0].nodeValue;return"message"===a.type&&(delete a.id,delete a.label,delete a.text),t.model[n].indexOf(a)!==-1?a:!(t.model[n].length>8)&&a}}];e.controller("messageController",t)}(),function(){angular.module("csgo-radio").factory("messageService",["$rootScope","messagesService","$analytics",function(e,t,o){var a=function(t){if(e.init.Commands===!0){var o=t?e.init.commands.filter(this.newFilter(t)):e.init.commands;return o}return!1},n=function(e){var t="";for(var o in e)if(0!==e[o].searchText.length){var a=e[o].args.length>0?" "+e[o].args:"";t=t+e[o].searchText+a+"; "}return t},r=function(t,a){if(e.model.custom[t].disabled===!0&&"custom"!==a){var n=e.model[a].filter(function(e){return e.UID===t})[0];if("undefined"==typeof n)return $mdToast.show($mdToast.simple().textContent("Could not find the copy of the message.").position("top right").hideDelay(7e3)),o.eventTrack("Could not find Message clone",{category:"radio_tool"}),!1;delete e.model[a].splice(e.model[a].indexOf(n),1),delete e.model.custom[t]}else if(e.model.custom[t].disabled===!0){var r=["standard","group","report"];for(var i in r){var n=e.model[r[i]].filter(function(e){return e.UID===t})[0];"undefined"!=typeof n&&(delete e.model[a].splice(e.model[r[i]].indexOf(n),1),delete e.model.custom[t])}}else delete e.model.custom[t]},i=function(a,n,r,i){if("custom"===n.type)if(console.log(a.color),e.model.custom[n.UID].cmd=this.renderCommand(r),e.model.custom[n.UID].text=a.label,e.model.custom[n.UID].italic=a.italic,e.model.custom[n.UID].bold=a.bold,e.model.custom[n.UID].color=a.color,e.model.custom[n.UID].disabled===!0&&"custom"!==i){var l=e.model[i].filter(function(e){return e.UID===n.UID})[0];if("undefined"==typeof l)return $mdToast.show($mdToast.simple().textContent("Could not find the copy of the message.").position("top right").hideDelay(7e3)),o.eventTrack("Could not find Message clone",{category:"radio_tool"}),!1;l.cmd=this.renderCommand(r),l.text=a.label,l.italic=a.italic,l.bold=a.bold,l.color=a.color}else if(e.model.custom[n.UID].disabled===!0){var s=["standard","group","report"];for(var d in s){var l=e.model[s[d]].filter(function(e){return e.UID===n.UID})[0];"undefined"!=typeof l&&(l.cmd=this.renderCommand(r),l.text=a.label,l.italic=a.italic,l.bold=a.bold,l.color=a.color)}}"imported"===n.type&&(n.cmd=this.renderCommand(r),n.text=a.label,n.italic=a.italic,n.bold=a.bold,n.color=a.color),e.settings.shared===!0?t.saveHash():t.save()},l=function(e){var t=angular.lowercase(e);return function(e){return 0===e.Name.indexOf(t)}},n=function(e){var t="";for(var o in e)if(0!==e[o].searchText.length){var a=e[o].args.length>0?" "+e[o].args:"";t=t+e[o].searchText+a+"; "}return t},s=function(e){var t=this.querySearch(e);if(t.length>0&&t.length<6)for(var o in t)if(t[o].Name===e)return t[o];return!1},d=function(e){var t=e.split(";"),o=[];for(var a in t)if(t[a].length>0){var n=t[a].split(" ");if(1===n.length&&n[0].length>0){var r=this.findCommand(l===!0?n[1]:n[0]),i="undefined"==typeof r?"":"undefined"==typeof r.Value?"":r.Value;o.push({cmd:r,args:i,searchText:n[0]})}else{var l=" "===n[0]||"  "===n[0]||""===n[0],i=l===!0?t[a].replace(n[0]+n[1],""):t[a].replace(n[0],"");" "===i.charAt(0)&&(i=i.substring(1));var r=this.findCommand(l===!0?n[1]:n[0]);o.push({cmd:r,args:i,searchText:l===!0?n[1]:n[0]})}}return o},c=function(t,a){t.UID=t.label.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")+"-"+Math.floor(100*Math.random()+1),e.model.custom[t.UID]={UID:t.UID,type:"custom",disabled:!1,cmd:this.renderCommand(a),label:t.label.toLowerCase().replace(/[^a-zA-Z0-9]/g,""),text:t.label,italic:t.bold,bold:t.bold,color:t.color},o.eventTrack("New Custom Command",{category:"radio_tool"})};return{saveEdit:i,newFilter:l,renderCommand:n,parseCommandLine:d,newMessage:c,findCommand:s,querySearch:a,deleteMessage:r}}])}(),function(){angular.module("csgo-radio").factory("messagesService",["$http","$rootScope","localStorageService","$filter","$location","VDFService","$mdToast",function(e,t,o,a,n,r,i){var l=function(){return e.get("data/radio.json").then(function(e){return e.data})},s=function(){return e.get("data/changelog.json").then(function(e){return e.data})},d=function(){return e.get("data/custom.json").then(function(e){return e.data})},c=function(){return e.get("data/command.json").then(function(e){return e.data})},m=function(e){if(t.model.standard.length>0||t.model.group.length>0||t.model.report.length>0){var o=angular.copy(t.settings.radioMenu);o["RadioPanel.txt"].Groups.standard.title=t.model.Titles[0]===a("translate")("boxes.title_0")?"#SFUI_CommandRadio":t.model.Titles[0],o["RadioPanel.txt"].Groups.group.title=t.model.Titles[1]===a("translate")("boxes.title_1")?"#SFUI_StandardRadio":t.model.Titles[1],o["RadioPanel.txt"].Groups.report.title=t.model.Titles[2]===a("translate")("boxes.title_2")?"#SFUI_ReportRadio":t.model.Titles[2];for(var n in t.settings.boxes){var i=1,l=t.settings.boxes[n].replace("Radio","").toLowerCase();for(var s in t.model[l]){var d=t.model[l][s];if("message"===d.type)o["RadioPanel.txt"].Groups[l].Commands[d.cmd]={},o["RadioPanel.txt"].Groups[l].Commands[d.cmd].hotkey=i,o["RadioPanel.txt"].Groups[l].Commands[d.cmd].label=t.model.messages[d.cmd].label,o["RadioPanel.txt"].Groups[l].Commands[d.cmd].cmd=t.model.messages[d.cmd].cmd;else{if(o["RadioPanel.txt"].Groups[l].Commands[d.UID]={},d.italic===!0&&d.bold===!1)var c="<i>"+d.label+"</i>";else if(d.italic===!1&&d.bold===!0)var c="<b>"+d.label+"</b>";else if(d.italic===!0&&d.bold===!0)var c="<i><b>"+d.label+"</b></i>";else var c=d.label;d.color!==!1&&"#000000"!==d.color&&"undefined"!=typeof d.color&&(c="<font color="+d.color+">"+c+"</font>"),o["RadioPanel.txt"].Groups[l].Commands[d.UID].hotkey=i,o["RadioPanel.txt"].Groups[l].Commands[d.UID].label=c,o["RadioPanel.txt"].Groups[l].Commands[d.UID].cmd=d.cmd}i++}}return r.stringify(o,!0)}return!1},u=function(e){var t=[];for(var o in e)"message"===e[o].type?t.push(e[o].cmd):t.push({label:e[o].label,text:e[o].text,cmd:e[o].cmd,italic:"undefined"!=typeof e[o].italic&&e[o].italic,bold:"undefined"!=typeof e[o].bold&&e[o].bold,color:"undefined"!=typeof e[o].color&&e[o].color});return t},p=function(){var e={StandardRadio:u(t.model.standard),GroupRadio:u(t.model.group),ReportRadio:u(t.model.report),Titles:[t.model.Titles[0]===a("translate")("boxes.title_0")?null:t.model.Titles[0],t.model.Titles[1]===a("translate")("boxes.title_1")?null:t.model.Titles[1],t.model.Titles[2]===a("translate")("boxes.title_2")?null:t.model.Titles[2]]};o.isSupported&&o.set("saved",e),T(e)},f=function(e,t){var o=e.text||e.label;if(e.italic=this.strContains(o,"<i>")===!0,e.bold=this.strContains(o,"<b>")===!0,this.strContains(o,"<font")===!0){var a=o.match(/color='(.*?)'/);e.color=a[1],o=t===!0?o.replace("<font "+a[0]+">","").replace("</font>",""):o.replace("<font "+a[0]+">","").replace("</font>","")}return t===!0?e.text=o.replace("<i>","").replace("</i>","").replace("<b>","").replace("</b>",""):e.label=o.replace("<i>","").replace("</i>","").replace("<b>","").replace("</b>",""),e},g=function(e){for(var o in t.model.custom)if(t.model.custom.hasOwnProperty(o)&&t.model.custom[o].cmd===e.cmd&&t.model.custom[o].text===e.text)return o;return!1},h=function(){t.model.standard.length=0,t.model.group.length=0,t.model.report.length=0,t.model.Titles=[a("translate")("boxes.title_0"),a("translate")("boxes.title_1"),a("translate")("boxes.title_2")];for(var e in t.model.messages)t.model.messages[e].disabled=!1;for(var o in t.model.custom)t.model.custom[o].disabled=!1},v=function(e){var t={};for(var o in e)t[o]={UID:e[o].UID,label:e[o].label,text:e[o].text,cmd:e[o].cmd,italic:"undefined"!=typeof e[o].italic&&e[o].italic,bold:"undefined"!=typeof e[o].bold&&e[o].bold,color:"undefined"!=typeof e[o].color&&e[o].color,type:e[o].type};return t},y=function(){o.isSupported&&o.set("custom",v(t.model.custom))},b=function(e){t.model.custom=e,t.$watch("model.custom",y,!0)},C=function(e){var t={};for(var o in e){var a=e[o].label.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")+"-"+Math.floor(100*Math.random()+1);t[a]={UID:a,text:e[o].label,label:e[o].label.toLowerCase().replace(/[^a-zA-Z0-9]/g,""),cmd:e[o].cmd,italic:"undefined"!=typeof e[o].italic&&e[o].italic,bold:"undefined"!=typeof e[o].bold&&e[o].bold,color:"undefined"!=typeof e[o].color&&e[o].color,type:"custom"}}this.importCustom(t)},x=p,R=function(e){var o=r.parse(e.file);if("undefined"==typeof o["RadioPanel.txt"]||o===!1)return!1;var a={};for(var n in o["RadioPanel.txt"].Groups)if("group"===n||"report"===n||"standard"===n){a[n]=[];for(var i in o["RadioPanel.txt"].Groups[n].Commands){var l=o["RadioPanel.txt"].Groups[n].Commands[i];t.model.messages.hasOwnProperty(l.cmd)===!0?a[n].push(l.cmd):a[n].push(this.checkHtmlTags(l))}}a.titles=Array("#SFUI_CommandRadio"===o["RadioPanel.txt"].Groups.standard.title?null:o["RadioPanel.txt"].Groups.standard.title,"#SFUI_StandardRadio"===o["RadioPanel.txt"].Groups.group.title?null:o["RadioPanel.txt"].Groups.group.title,"#SFUI_ReportRadio"===o["RadioPanel.txt"].Groups.report.title?null:o["RadioPanel.txt"].Groups.report.title),this.importMessages({StandardRadio:a.standard,GroupRadio:a.group,ReportRadio:a.report,Titles:a.titles},!0,!1,e.copy)},S=function(e,o,n,r){if("undefined"!=typeof e.StandardRadio&&"undefined"!=typeof e.GroupRadio&&"undefined"!=typeof e.ReportRadio&&"undefined"!=typeof e.Titles){h(),t.model.standard=e.StandardRadio,t.model.group=e.GroupRadio,t.model.report=e.ReportRadio,t.model.Titles=e.Titles;for(var l=0;l<=2;++l)null===t.model.Titles[l]&&(t.model.Titles[l]=a("translate")("boxes.title_"+l));var s=["StandardRadio","GroupRadio","ReportRadio"];for(var d in s){var d=s[d];for(var c in e[d])if("string"==typeof e[d][c])t.model.messages[e[d][c]].disabled=!0,e[d][c]={type:"message",cmd:e[d][c]};else{"undefined"==typeof e[d][c].text&&(e[d][c].text=e[d][c].label);var m=g(e[d][c]);if("string"==typeof m){t.model.custom[m].disabled=!0,e[d][c].type="custom",e[d][c].UID=t.model.custom[m].UID;continue}r===!0&&(e[d][c].UID=c.text.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")+"-"+Math.floor(100*Math.random()+1),e[d][c].type="custom",e[d][c].disabled=!1,e[d][c].label=e[d][c].text.toLowerCase().replace(/[^a-zA-Z0-9]/g,""),t.model.custom[e[d][c].UID]=e[d][c]),o!==!0&&n!==!0||(e[d][c].type="imported",e[d][c].disabled=!1,e[d][c].label=e[d][c].text.toLowerCase().replace(/[^a-zA-Z0-9]/g,""))}}n===!1&&o===!1&&t.model.watch!==!0&&(t.$watch("model",x,!0),t.model.watch=!0)}else i.show(i.simple().textContent("This is not RadioPanel.txt").position("top right").hideDelay(5e3))},D=function(){S(JSON.parse('{"StandardRadio":["go","fallback","sticktog","holdpos","followme"],"GroupRadio":["roger","negative","cheer","compliment","thanks"],"ReportRadio":["enemyspot","needbackup","takepoint","sectorclear","inposition"],"Titles":[null,null,null]}'),!1,!1,!1)},T=function(e){if("undefined"==typeof e)var e={StandardRadio:u(t.model.standard),GroupRadio:u(t.model.group),ReportRadio:u(t.model.report),Titles:[t.model.Titles[0]===a("translate")("boxes.title_0")?null:t.model.Titles[0],t.model.Titles[1]===a("translate")("boxes.title_1")?null:t.model.Titles[1],t.model.Titles[2]===a("translate")("boxes.title_2")?null:t.model.Titles[2]]};n.hash(JSON.stringify(e))};return{getMessages:l,getCustom:d,getChangelog:s,save:p,importMessages:S,resetMessages:h,importCustom:b,checkHtmlTags:f,"default":D,saveHash:T,getCommand:c,customSave:y,ImportRP:R,GenerateRP:m,importOldCustom:C}}])}(),function(){var e=angular.module("csgo-radio"),t=["$scope","$rootScope","$mdDialog","list","message","index","messageService","uiService",function(e,t,o,a,n,r,i,l){function s(){e.requirements={cheats:!1,dev:!1,sponly:!1};for(var t in e.commands)null!==e.commands[t].cmd&&("undefined"!=typeof e.commands[t].cmd.ch&&e.requirements.cheats===!1&&(e.requirements.cheats=!0),"undefined"!=typeof e.commands[t].cmd["do"]&&e.requirements.dev===!1&&(e.requirements.dev=!0),"undefined"!=typeof e.commands[t].cmd.sp&&e.requirements.sponly===!1&&(e.requirements.sponly=!0),"undefined"!=typeof e.commands[t].cmd.cd&&e.requirements.client===!1&&(e.requirements.client=!0),"undefined"!=typeof e.commands[t].cmd.gl&&e.requirements.server===!1&&(e.requirements.server=!0))}if(e.selected=0,e.dialog={advanced:!1},"undefined"==typeof a&&"undefined"==typeof n&&"undefined"==typeof a){e.message={label:"",italic:!1,bold:!1,color:"#000000"},e.commands=[{cmd:{Name:"noclip"},args:"",searchText:"noclip"}],e.requirements={cheats:!0,dev:!1,sponly:!1};var d=!0;e.mode="new"}else{"custom"===n.type?(e.message={italic:"undefined"!=typeof t.model.custom[n.UID].italic&&t.model.custom[n.UID].italic,bold:"undefined"!=typeof t.model.custom[n.UID].bold&&t.model.custom[n.UID].bold,label:t.model.custom[n.UID].text,color:t.model.custom[n.UID].color,UID:n.UID},e.custom=!0,e.commands=i.parseCommandLine(t.model.custom[n.UID].cmd)):(e.message={italic:"undefined"!=typeof n.italic&&n.italic,bold:"undefined"!=typeof n.bold&&n.bold,label:n.text,color:n.color},e.custom=!1,e.commands=i.parseCommandLine(n.cmd),e.dialog.copyBtn=!0),s();var d=!1;e.mode="edit"}e.dialog.colorpickeroptions={label:"Choose a color","default":"#000000",genericPalette:!1,preview:!1,history:!0,rgb:!1,clearButton:!0,hsl:!1},e.cacheResults=!0,e.autocomplete=t.init.Commands,e.querySearch=function(e){if(t.init.Commands===!0){var o=e?t.init.commands.filter(i.newFilter(e)):t.init.commands;return o}return[]},e.checkArg=function(t){0===e.commands[t].args.length&&null!==e.commands[t].cmd&&"undefined"!=typeof e.commands[t].cmd.Value&&(e.commands[t].args=e.commands[t].cmd.Value),s()},e.togAdv=function(){e.dialog.advanced===!0?(e.message.rawCommand=i.renderCommand(e.commands),e.message.rawCommandBefore=i.renderCommand(e.commands)):e.message.rawCommand!==e.message.rawCommandBefore&&(e.commands=i.parseCommandLine(e.message.rawCommand),s())},e.togI=function(){e.message.italic=!e.message.italic},e.togB=function(){e.message.bold=!e.message.bold},e.addField=function(){e.commands.push({cmd:"",args:"",searchText:""})},e.deleteM=function(e){"custom"===n.type&&l.Confirm.deleteCustomCommand(e,n,a,o)},e.hide=function(){o.hide(),e.$destroy()},e.cancel=function(){o.cancel(),e.$destroy()},e.confirm=function(){Object.keys(e.cmdName.label.$error).length>0?(e.selected=0,e.cmdName.$submitted=!0):(d===!0?i.newMessage(e.message,e.commands):(console.log(e.message),i.saveEdit(e.message,n,e.commands,a)),o.hide(),e.$destroy())}}];e.controller("newMessageController",t)}(),function(){var e=angular.module("csgo-radio"),t=["$scope","$rootScope","messagesService",function(e,t,o){e.save=function(){t.$watch("model",o.save,!0),t.settings.shared=!1,t.settings.hasSaved=!1},e.copyAll=function(){var e=["standard","group","report"];for(var o in e){var o=e[o];for(var a in t.model[o])"string"!=typeof t.model[o][a]&&"imported"===t.model[o][a].type&&(t.model[o][a].UID=t.model[o][a].text.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")+"-"+Math.floor(100*Math.random()+1),t.model[o][a].type="custom",t.model[o][a].disabled=!0,t.model[o][a].label=t.model[o][a].text.toLowerCase().replace(/[^a-zA-Z0-9]/g,""),t.model.custom[t.model[o][a].UID]=t.model[o][a])}}}];e.controller("sharedController",t)}(),function(){angular.module("csgo-radio").factory("uiService",["$rootScope","$filter","$mdDialog","messagesService","VDFService","$analytics","messageService",function(e,t,o,a,n,r,i){var l=function(e,a,n,r){o.show(o.confirm({skipHide:!0}).title(t("translate")("modal.prompt.title")).textContent(t("translate")("modal.prompt.body")+" "+n+"?").targetEvent(e).ok(a).cancel(t("translate")("modal.prompt.no"))).then(r,function(){})},s=["$scope","$mdDialog","$rootScope",function(e,t,o){e.hide=function(){t.hide()},e.cancel=function(){t.cancel()},e.answer=function(e){t.cancel(e)}}],d=function(e,t){t.controller="undefined"==typeof t.controller?s:t.controller,t.clickOutsideToClose="undefined"!=typeof t.clickOutsideToClose&&t.clickOutsideToClose,t.skipHide="undefined"!=typeof t.skipHide&&t.skipHide,t.locals="undefined"==typeof t.locals?{}:t.locals,t.callback="undefined"==typeof t.callback?function(){}:t.callback,o.show({controller:t.controller,templateUrl:t.template,parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:t.clickOutsideToClose,skipHide:t.skipHide,locals:t.locals}).then(t.callback)},c={reset:function(e){l(e,t("translate")("modal.prompt.Reset"),t("translate")("modal.prompt.reset"),function(){a.resetMessages(),r.eventTrack("Reset Messages",{category:"radio_tool"})})},"default":function(e){l(e,t("translate")("modal.prompt.yes"),t("translate")("modal.prompt.defaults"),function(){a["default"](),r.eventTrack("Reset to Game defaults",{category:"radio_tool"})})},deleteCustomCommand:function(e,o,a,n){l(e,t("translate")("modal.prompt.delete"),t("translate")("modal.prompt.delcmd")+" "+o.text,function(){i.deleteMessage(o.UID,a),n.cancel()})},deleteImportedCommand:function(o,a,n,r){l(o,t("translate")("modal.prompt.delete"),t("translate")("modal.prompt.delcmd")+" "+n.text,function(){e.model[a].splice(r,1)})}},m={help:function(e,t){t="undefined"==typeof t?0:t,d(e,{template:"help-dialog.html",skipHide:!0,clickOutsideToClose:!0}),r.eventTrack("Help Dialog",{category:"radio_tool"})},newMessage:function(e){d(e,{controller:"newMessageController",template:"new-message-dialog.html",locals:{list:void 0,message:void 0,index:void 0}})},editMessage:function(e,t){d(e,{controller:"newMessageController",template:"new-message-dialog.html",locals:t,skipHide:!0})},changelog:function(t,o){var n=function(o){e.init.Changelog=!0,e.init.changelog=o,d(t,{template:"changelog-dialog.html"})},r=function(e,t){};e.init.ChangeLog===!0?d(t,{template:"changelog-dialog.html"}):a.getChangelog().then(n,r)},"import":function(e){d(e,{controller:["$scope","$mdDialog","messagesService",function(e,t,o){e["import"]={copy:!0},e.cancel=function(){t.cancel()},e.ok=function(){Object.keys(e.importForm.file.$error).length>0?e.importForm.$submitted=!0:o.ImportRP(e["import"])!==!1&&(t.hide(),r.eventTrack("Imported RadioPanel.txt",{category:"radio_tool"}))}}],template:"import-dialog.html"})},output:function(e,t){t!==!1?(d(e,{template:"output-dialog.html",locals:{extra:{output:t,helpD:this.help}},controller:["$scope","$mdDialog","extra",function(e,t,o){e.extra=o,e.hide=function(){t.hide()},e.cancel=function(){t.cancel()}}]}),r.eventTrack("Generated RadioPanel.txt",{category:"radio_tool"})):r.eventTrack("Tried to Generate empty list",{category:"radio_tool"})}};return{Confirm:c,Dialog:m}}])}(),function(){var e=["$mdToast",function(e){var t=function(t){e.show(e.simple().textContent(t).position("top right").hideDelay(5e3))},o=function(e,t,a){if("object"!=typeof e)return ui.notification("vdf","VDF.stringify: a key has value of type other than string or object"),!1;var n="\t",r="",i="";if(t)for(var l=0;l<a;l++)i+=n;for(var s in e)r+="object"==typeof e[s]?[i,'"',s,'"\n',i,"{\n",o(e[s],t,a+1),i,"}\n"].join(""):[i,'"',s,'" "',String(e[s]),'"\n'].join("");return r},a=function(e){if("string"!=typeof e)return t("VDF.parse: Expecting parameter to be a string"),!1;for(var o,a,n=e.split("\n"),r={},i=[r],l=!1,s=new RegExp('^("((?:\\\\.|[^\\\\"])+)"|([a-z0-9\\-\\_]+))([ \t]*("((?:\\\\.|[^\\\\"])*)(")?|([a-z0-9\\-\\_]+)))?'),d=0,c=n.length;d<c;d++)if(o=n[d].trim(),""!=o&&"/"!=o[0])if("{"!=o[0]){if(l)return t("VDF.parse: invalid syntax on line "+(d+1)),!1;if("}"!=o[0])for(;;){if(a=s.exec(o),null===a)return t("VDF.parse: invalid syntax on line "+(d+1)),!1;var m=void 0!==a[2]?a[2]:a[3],u=void 0!==a[6]?a[6]:a[8];if(void 0===u)i[i.length-1][m]={},i.push(i[i.length-1][m]),l=!0;else{if(void 0===a[7]&&void 0===a[8]){o+="\n"+n[++d];continue}i[i.length-1][m]=u}break}else i.pop()}else l=!1;return 1!=i.length?(t("VDF.parse: open parentheses somewhere"),!1):r},n=function(e,a){return"object"!=typeof e&&t("VDF.stringify: First input parameter is not an object"),a=!("boolean"!=typeof a||!a),o(e,a,0)};return{parse:a,stringify:n}}],t=angular.module("csgo-radio");t.factory("VDFService",e)}();
//# sourceMappingURL=../maps/scripts/main-9eb0eda044.js.map
